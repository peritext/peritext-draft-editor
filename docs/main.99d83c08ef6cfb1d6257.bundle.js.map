{"version":3,"file":"main.99d83c08ef6cfb1d6257.bundle.js","sources":["webpack:///./stories/ExampleBlockCitation.js"],"sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\n\n\nimport FieldInput from './FieldInput';\n\nconst BlockCitation = ({\n  assetId,\n  asset,\n  onAssetChange,\n  onAssetFocus,\n  onAssetBlur,\n  iconMap,\n  renderingMode,\n}) => {\n  const {\n    resource,\n    resourceId,\n    contextualizerId,\n    contextualizer,\n    contextualization,\n  } = asset;\n\n  const onResourceTitleChange = e => {\n    const title = e.target.value;\n    onAssetChange('resources', resourceId, {\n      ...resource,\n      title\n    })\n  };\n\n  const onContextualizerPageChange = e => {\n    const pages = e.target.value;\n    onAssetChange('contextualizers', contextualizerId, {\n      ...contextualizer,\n      pages\n    })\n  }\n\n  const onTitleClick = e => {\n    console.log('title focus');\n    console.log('active', document.activeElement);\n    onAssetFocus(e);\n    // this.title.focus();\n  };\n  const onPageClick = e => {\n    onAssetFocus(e);\n    // this.pages.focus();\n  };\n  const title = title => this.title = title;\n  const pages = pages => this.pages = pages;\n  return (\n    <div className=\"citation-block\">\n      <span><i>\n            <FieldInput\n              value={resource.title}\n              onChange={onResourceTitleChange}\n              onClick={onTitleClick}\n              onFocus={onAssetFocus}\n              onBlur={onAssetBlur}\n              ref={title}\n            />\n          </i>. <i>pp. <FieldInput\n              value={contextualizer.pages}\n              onChange={onContextualizerPageChange}\n              onFocus={onAssetFocus}\n              onBlur={onAssetBlur}\n              onClick={onPageClick}\n              ref={pages}\n            /></i>. \n          {\n            resource.authors.map(author => author.firstName + ' ' + author.lastName).join(', ')\n          }\n           - <i>{renderingMode} rendering mode</i>\n      </span>\n    </div>\n  );\n}\n\nexport default BlockCitation;\n\n\n"],"mappings":"AAMA","sourceRoot":""}